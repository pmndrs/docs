(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79426,e=>{"use strict";var t=e.i(3491),n=function(){function e(e,t,n){void 0===n&&(n={}),this.status="idle",this.options=n,this.sandboxSetup=t,this.iframeSelector=e}return e.prototype.updateOptions=function(e){(0,t.dequal)(this.options,e)||(this.options=e,this.updateSandbox())},e.prototype.updateSandbox=function(e,t){throw void 0===e&&(e=this.sandboxSetup),Error("Method not implemented")},e.prototype.destroy=function(){throw Error("Method not implemented")},e.prototype.dispatch=function(e){throw Error("Method not implemented")},e.prototype.listen=function(e){throw Error("Method not implemented")},e}();e.s(["S",()=>n])},92126,(e,t,n)=>{t.exports=e.r(64108)},1440,e=>{"use strict";var t=e.i(23233),n=e.i(3491),i=e.i(79426),o=e.i(92126);e.i(59415);for(var r=function(){function e(e,n,i){var o=this;this.type=e,this.handleMessage=n,this.protocol=i,this._disposeMessageListener=this.protocol.channelListen(function(e){return(0,t._)(o,void 0,void 0,function(){var n,i,o,r;return(0,t.a)(this,function(t){switch(t.label){case 0:if(!(e.type===this.getTypeId()&&e.method))return[3,4];n=e,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.handleMessage(n)];case 2:return i=t.sent(),o={type:this.getTypeId(),msgId:n.msgId,result:i},this.protocol.dispatch(o),[3,4];case 3:return r=t.sent(),o={type:this.getTypeId(),msgId:n.msgId,error:{message:r.message}},this.protocol.dispatch(o),[3,4];case 4:return[2]}})})})}return e.prototype.getTypeId=function(){return"protocol-".concat(this.type)},e.prototype.dispose=function(){this._disposeMessageListener()},e}(),s=function(){function e(e,t){this.globalListeners={},this.globalListenersCount=0,this.channelListeners={},this.channelListenersCount=0,this.channelId=Math.floor(1e6*Math.random()),this.frameWindow=e.contentWindow,this.origin=t,this.globalListeners=[],this.channelListeners=[],this.eventListener=this.eventListener.bind(this),"u">typeof window&&window.addEventListener("message",this.eventListener)}return e.prototype.cleanup=function(){window.removeEventListener("message",this.eventListener),this.globalListeners={},this.channelListeners={},this.globalListenersCount=0,this.channelListenersCount=0},e.prototype.register=function(){this.frameWindow&&this.frameWindow.postMessage({type:"register-frame",origin:document.location.origin,id:this.channelId},this.origin)},e.prototype.dispatch=function(e){this.frameWindow&&this.frameWindow.postMessage((0,t.h)({$id:this.channelId,codesandbox:!0},e),this.origin)},e.prototype.globalListen=function(e){var t=this;if("function"!=typeof e)return function(){};var n=this.globalListenersCount;return this.globalListeners[n]=e,this.globalListenersCount++,function(){delete t.globalListeners[n]}},e.prototype.channelListen=function(e){var t=this;if("function"!=typeof e)return function(){};var n=this.channelListenersCount;return this.channelListeners[n]=e,this.channelListenersCount++,function(){delete t.channelListeners[n]}},e.prototype.eventListener=function(e){if(e.source===this.frameWindow){var t=e.data;t.codesandbox&&(Object.values(this.globalListeners).forEach(function(e){return e(t)}),t.$id===this.channelId&&Object.values(this.channelListeners).forEach(function(e){return e(t)}))}},e}(),a=new Map,c=Object.entries(o.default),d=0;d<c.length;d++){var l=c[d],p=l[0],u=l[1];if(u.extensions){var h=u.extensions;if(h.length)for(var f=0;f<h.length;f++){var m=h[f];a.set(m,p)}}}var b="$CSB_RELAY",v="-{{suffix}}",x="https://".concat("2.19.8".replace(/\./g,"-")).concat(v,"-sandpack.codesandbox.io/"),g=function(e){function i(n,i,o){void 0===o&&(o={});var a=e.call(this,n,i,o)||this;if(a.getTranspilerContext=function(){return new Promise(function(e){var t=a.listen(function(n){"transpiler-context"===n.type&&(e(n.data),t())});a.dispatch({type:"get-transpiler-context"})})},a.getTranspiledFiles=function(){return new Promise(function(e){var t=a.listen(function(n){"all-modules"===n.type&&(e(n.data),t())});a.dispatch({type:"get-modules"})})},a.bundlerURL=a.createBundlerURL(),a.bundlerState=void 0,a.errors=[],a.status="initializing","string"==typeof n){a.selector=n;var c=document.querySelector(n);(0,t.n)(c,"The element '".concat(n,"' was not found")),a.element=c,a.iframe=document.createElement("iframe"),a.initializeElement()}else a.element=n,a.iframe=n;return a.iframe.getAttribute("sandbox")||(a.iframe.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-downloads allow-pointer-lock"),a.iframe.setAttribute("allow","accelerometer; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; clipboard-read; clipboard-write; xr-spatial-tracking;")),a.setLocationURLIntoIFrame(),a.iframeProtocol=new s(a.iframe,a.bundlerURL),a.unsubscribeGlobalListener=a.iframeProtocol.globalListen(function(e){"initialized"===e.type&&a.iframe.contentWindow&&(a.iframeProtocol.register(),a.options.fileResolver&&(a.fileResolverProtocol=new r("fs",function(e){return(0,t._)(a,void 0,void 0,function(){return(0,t.a)(this,function(t){if("isFile"===e.method)return[2,this.options.fileResolver.isFile(e.params[0])];if("readFile"===e.method)return[2,this.options.fileResolver.readFile(e.params[0])];throw Error("Method not supported")})})},a.iframeProtocol)),a.updateSandbox(a.sandboxSetup,!0))}),a.unsubscribeChannelListener=a.iframeProtocol.channelListen(function(e){switch(e.type){case"start":a.errors=[];break;case"status":a.status=e.status;break;case"action":"show-error"===e.action&&(a.errors=(0,t.i)((0,t.i)([],a.errors,!0),[(0,t.e)(e)],!1));break;case"done":a.status="done";break;case"state":a.bundlerState=e.state}}),o.experimental_enableServiceWorker&&a.serviceWorkerHandshake(),a}return(0,t.g)(i,e),i.prototype.createBundlerURL=function(){var e,t=this.options.bundlerURL||x;if(this.options.bundlerURL)return t;if(this.options.teamId&&(t=t.replace("https://","https://"+this.options.teamId+"-")+"?cache=".concat(Date.now())),this.options.experimental_enableServiceWorker){var n=[];n.push(Math.random().toString(36).slice(4)),t=t.replace(v,"-".concat(null!=(e=this.options.experimental_stableServiceWorkerId)?e:n.join("-")))}else t=t.replace(v,"");return t},i.prototype.serviceWorkerHandshake=function(){var e=this,t=new MessageChannel,n=this.iframe.contentWindow;if(!n)throw Error("Could not get iframe contentWindow");var i=t.port1;i.onmessage=function(t){if("object"==typeof t.data&&t.data.$channel===b)switch(t.data.$type){case"preview/ready":break;case"preview/request":e.handleWorkerRequest(t.data,i)}};var o=function(){n.postMessage({$channel:b,$type:"preview/init"},"*",[t.port2]),e.iframe.removeEventListener("load",o)};this.iframe.addEventListener("load",o)},i.prototype.handleWorkerRequest=function(e,n){return(0,t._)(this,void 0,void 0,function(){var i,o,r,s,c,d,l,p;return(0,t.a)(this,function(t){switch(t.label){case 0:i=function(){var t={$channel:b,$type:"preview/response",id:e.id,headers:{"Content-Type":"text/html; charset=utf-8"},status:404,body:"File not found"};n.postMessage(t)},t.label=1;case 1:if(t.trys.push([1,4,,5]),o=new URL(e.url,this.bundlerURL).pathname,r={},s=this.getFiles()[o])return[3,3];return[4,this.getTranspiledFiles()];case 2:if(!(s=t.sent().find(function(e){return e.path.endsWith(o)})))return i(),[2];t.label=3;case 3:if(c=s.code,!r["Content-Type"]){var u;d=(u=o.split(".")).length<=1?"":u[u.length-1],(l=a.get(d))&&(r["Content-Type"]=l)}return p={$channel:b,$type:"preview/response",id:e.id,headers:r,status:200,body:c},n.postMessage(p),[3,5];case 4:return console.error(t.sent()),i(),[3,5];case 5:return[2]}})})},i.prototype.setLocationURLIntoIFrame=function(){var e,t=this.options.startRoute?new URL(this.options.startRoute,this.bundlerURL).toString():this.bundlerURL;null==(e=this.iframe.contentWindow)||e.location.replace(t),this.iframe.src=t},i.prototype.destroy=function(){this.unsubscribeChannelListener(),this.unsubscribeGlobalListener(),this.iframeProtocol.cleanup()},i.prototype.updateOptions=function(e){(0,n.dequal)(this.options,e)||(this.options=e,this.updateSandbox())},i.prototype.updateSandbox=function(e,n){void 0===e&&(e=this.sandboxSetup),this.sandboxSetup=(0,t.h)((0,t.h)({},this.sandboxSetup),e);var i,o,r,s,a=this.getFiles(),c=Object.keys(a).reduce(function(e,n){var i;return(0,t.h)((0,t.h)({},e),((i={})[n]={code:a[n].code,path:n},i))},{}),d=JSON.parse((0,t.b)(this.sandboxSetup.dependencies,this.sandboxSetup.devDependencies,this.sandboxSetup.entry));try{d=JSON.parse(a["/package.json"].code)}catch(e){console.error((0,t.c)("could not parse package.json file: "+e.message))}var l=Object.keys(a).reduce(function(e,n){var i;return(0,t.h)((0,t.h)({},e),((i={})[n]={content:a[n].code,path:n},i))},{});this.dispatch((0,t.h)((0,t.h)({},this.options),{type:"compile",codesandbox:!0,version:3,isInitializationCompile:n,modules:c,reactDevTools:this.options.reactDevTools,externalResources:this.options.externalResources||[],hasFileResolver:!!this.options.fileResolver,disableDependencyPreprocessing:this.sandboxSetup.disableDependencyPreprocessing,experimental_enableServiceWorker:this.options.experimental_enableServiceWorker,template:this.sandboxSetup.template||function(e,n){if(!e)return"static";var i=e.dependencies,o=void 0===i?{}:i,r=e.devDependencies,s=(0,t.i)((0,t.i)([],Object.keys(o),!0),Object.keys(void 0===r?{}:r),!0),a=Object.keys(n),c=["@adonisjs/framework","@adonisjs/core"];if(s.some(function(e){return c.indexOf(e)>-1}))return"adonis";var d=["nuxt","nuxt-edge","nuxt-ts","nuxt-ts-edge","nuxt3"];if(s.some(function(e){return d.indexOf(e)>-1}))return"nuxt";if(s.indexOf("next")>-1)return"next";var l=["apollo-server","apollo-server-express","apollo-server-hapi","apollo-server-koa","apollo-server-lambda","apollo-server-micro"];if(s.some(function(e){return l.indexOf(e)>-1}))return"apollo";if(s.indexOf("mdx-deck")>-1)return"mdx-deck";if(s.indexOf("gridsome")>-1)return"gridsome";if(s.indexOf("vuepress")>-1)return"vuepress";if(s.indexOf("ember-cli")>-1)return"ember";if(s.indexOf("sapper")>-1)return"sapper";if(s.indexOf("gatsby")>-1)return"gatsby";if(s.indexOf("quasar")>-1)return"quasar";if(s.indexOf("@docusaurus/core")>-1)return"docusaurus";if(s.indexOf("remix")>-1)return"remix";if(s.indexOf("astro")>-1)return"node";if(a.some(function(e){return e.endsWith(".re")}))return"reason";var p=["parcel-bundler","parcel"];if(s.some(function(e){return p.indexOf(e)>-1}))return"parcel";var u=["@dojo/core","@dojo/framework"];if(s.some(function(e){return u.indexOf(e)>-1}))return"@dojo/cli-create-app";if(s.indexOf("@nestjs/core")>-1||s.indexOf("@nestjs/common")>-1)return"nest";if(s.indexOf("react-styleguidist")>-1)return"styleguidist";if(s.indexOf("react-scripts")>-1)return"create-react-app";if(s.indexOf("react-scripts-ts")>-1)return"create-react-app-typescript";if(s.indexOf("@angular/core")>-1)return"angular-cli";if(s.indexOf("preact-cli")>-1)return"preact-cli";if(s.indexOf("@sveltech/routify")>-1||s.indexOf("@roxi/routify")>-1||s.indexOf("vite")>-1||s.indexOf("@frontity/core")>-1)return"node";if(s.indexOf("svelte")>-1)return"svelte";if(s.indexOf("vue")>-1)return"vue-cli";if(s.indexOf("cx")>-1)return"cxjs";var h=["express","koa","nodemon","ts-node","@tensorflow/tfjs-node","webpack-dev-server","snowpack"];if(s.some(function(e){return h.indexOf(e)>-1})||Object.keys(o).length>=50)return"node"}(d,l),showOpenInCodeSandbox:null==(i=this.options.showOpenInCodeSandbox)||i,showErrorScreen:null==(o=this.options.showErrorScreen)||o,showLoadingScreen:null!=(r=this.options.showLoadingScreen)&&r,skipEval:this.options.skipEval||!1,clearConsoleDisabled:!this.options.clearConsoleOnFirstCompile,logLevel:null!=(s=this.options.logLevel)?s:t.S.Info,customNpmRegistries:this.options.customNpmRegistries,teamId:this.options.teamId,sandboxId:this.options.sandboxId}))},i.prototype.dispatch=function(e){"refresh"===e.type&&(this.setLocationURLIntoIFrame(),this.options.experimental_enableServiceWorker&&this.serviceWorkerHandshake()),this.iframeProtocol.dispatch(e)},i.prototype.listen=function(e){return this.iframeProtocol.channelListen(e)},i.prototype.getCodeSandboxURL=function(){var e=this.getFiles();return fetch("https://codesandbox.io/api/v1/sandboxes/define?json=1",{method:"POST",body:JSON.stringify({files:Object.keys(e).reduce(function(n,i){var o;return(0,t.h)((0,t.h)({},n),((o={})[i.replace("/","")]={content:e[i].code,isBinary:!1},o))},{})}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return{sandboxId:e.sandbox_id,editorUrl:"https://codesandbox.io/s/".concat(e.sandbox_id),embedUrl:"https://codesandbox.io/embed/".concat(e.sandbox_id)}})},i.prototype.getFiles=function(){var e=this.sandboxSetup;return void 0===e.files["/package.json"]?(0,t.d)(e.files,e.dependencies,e.devDependencies,e.entry):this.sandboxSetup.files},i.prototype.initializeElement=function(){this.iframe.style.border="0",this.iframe.style.width=this.options.width||"100%",this.iframe.style.height=this.options.height||"100%",this.iframe.style.overflow="hidden",(0,t.n)(this.element.parentNode,"The given iframe does not have a parent."),this.element.parentNode.replaceChild(this.iframe,this.element)},i}(i.S);e.s(["SandpackRuntime",()=>g])}]);

//# sourceMappingURL=0b8eba5cd0c9ce83.js.map