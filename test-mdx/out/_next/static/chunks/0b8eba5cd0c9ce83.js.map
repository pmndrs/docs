{"version":3,"sources":["turbopack:///[project]/node_modules/.pnpm/@codesandbox+sandpack-client@2.19.8/node_modules/@codesandbox/sandpack-client/dist/base-80a1f760.mjs","turbopack:///[project]/node_modules/.pnpm/mime-db@1.54.0/node_modules/mime-db/index.js","turbopack:///[project]/node_modules/.pnpm/@codesandbox+sandpack-client@2.19.8/node_modules/@codesandbox/sandpack-client/dist/clients/runtime/index.mjs"],"sourcesContent":["import { dequal } from 'dequal';\n\nvar SandpackClient = /** @class */ (function () {\n    function SandpackClient(iframeSelector, sandboxSetup, options) {\n        if (options === void 0) { options = {}; }\n        this.status = \"idle\";\n        this.options = options;\n        this.sandboxSetup = sandboxSetup;\n        this.iframeSelector = iframeSelector;\n    }\n    /**\n     * Clients handles\n     */\n    SandpackClient.prototype.updateOptions = function (options) {\n        if (!dequal(this.options, options)) {\n            this.options = options;\n            this.updateSandbox();\n        }\n    };\n    SandpackClient.prototype.updateSandbox = function (_sandboxSetup, _isInitializationCompile) {\n        if (_sandboxSetup === void 0) { _sandboxSetup = this.sandboxSetup; }\n        throw Error(\"Method not implemented\");\n    };\n    SandpackClient.prototype.destroy = function () {\n        throw Error(\"Method not implemented\");\n    };\n    /**\n     * Bundler communication\n     */\n    SandpackClient.prototype.dispatch = function (_message) {\n        throw Error(\"Method not implemented\");\n    };\n    SandpackClient.prototype.listen = function (_listener) {\n        throw Error(\"Method not implemented\");\n    };\n    return SandpackClient;\n}());\n\nexport { SandpackClient as S };\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","import { _ as __awaiter, a as __generator, h as __assign, i as __spreadArray, g as __extends, b as createPackageJSON, c as createError, S as SandpackLogLevel, d as addPackageJSONIfNeeded, n as nullthrows, e as extractErrorDetails } from '../../utils-52664384.mjs';\nimport { dequal } from 'dequal';\nimport { S as SandpackClient } from '../../base-80a1f760.mjs';\nimport mimeDB from 'mime-db';\nimport 'outvariant';\n\n/**\n * This file is a copy of the resolver from the `codesandbox-api` package.\n * We wanted to avoid to reference codesandbox-api because of the code that runs on load in the package.\n * The plan is to take some time and refactor codesandbox-api into what it was supposed to be in the first place,\n * an abstraction over the actions that can be dispatched between the bundler and the iframe.\n */\nvar Protocol = /** @class */ (function () {\n    function Protocol(type, handleMessage, protocol) {\n        var _this = this;\n        this.type = type;\n        this.handleMessage = handleMessage;\n        this.protocol = protocol;\n        this._disposeMessageListener = this.protocol.channelListen(function (msg) { return __awaiter(_this, void 0, void 0, function () {\n            var message, result, response, err_1, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(msg.type === this.getTypeId() && msg.method)) return [3 /*break*/, 4];\n                        message = msg;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.handleMessage(message)];\n                    case 2:\n                        result = _a.sent();\n                        response = {\n                            type: this.getTypeId(),\n                            msgId: message.msgId,\n                            result: result,\n                        };\n                        this.protocol.dispatch(response);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _a.sent();\n                        response = {\n                            type: this.getTypeId(),\n                            msgId: message.msgId,\n                            error: {\n                                message: err_1.message,\n                            },\n                        };\n                        this.protocol.dispatch(response);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); });\n    }\n    Protocol.prototype.getTypeId = function () {\n        return \"protocol-\".concat(this.type);\n    };\n    Protocol.prototype.dispose = function () {\n        this._disposeMessageListener();\n    };\n    return Protocol;\n}());\n\nvar IFrameProtocol = /** @class */ (function () {\n    function IFrameProtocol(iframe, origin) {\n        // React to messages from any iframe\n        this.globalListeners = {};\n        this.globalListenersCount = 0;\n        // React to messages from the iframe owned by this instance\n        this.channelListeners = {};\n        this.channelListenersCount = 0;\n        // Random number to identify this instance of the client when messages are coming from multiple iframes\n        this.channelId = Math.floor(Math.random() * 1000000);\n        this.frameWindow = iframe.contentWindow;\n        this.origin = origin;\n        this.globalListeners = [];\n        this.channelListeners = [];\n        this.eventListener = this.eventListener.bind(this);\n        if (typeof window !== \"undefined\") {\n            window.addEventListener(\"message\", this.eventListener);\n        }\n    }\n    IFrameProtocol.prototype.cleanup = function () {\n        window.removeEventListener(\"message\", this.eventListener);\n        this.globalListeners = {};\n        this.channelListeners = {};\n        this.globalListenersCount = 0;\n        this.channelListenersCount = 0;\n    };\n    // Sends the channelId and triggers an iframeHandshake promise to resolve,\n    // so the iframe can start listening for messages (based on the id)\n    IFrameProtocol.prototype.register = function () {\n        if (!this.frameWindow) {\n            return;\n        }\n        this.frameWindow.postMessage({\n            type: \"register-frame\",\n            origin: document.location.origin,\n            id: this.channelId,\n        }, this.origin);\n    };\n    // Messages are dispatched from the client directly to the instance iframe\n    IFrameProtocol.prototype.dispatch = function (message) {\n        if (!this.frameWindow) {\n            return;\n        }\n        this.frameWindow.postMessage(__assign({ $id: this.channelId, codesandbox: true }, message), this.origin);\n    };\n    // Add a listener that is called on any message coming from an iframe in the page\n    // This is needed for the `initialize` message which comes without a channelId\n    IFrameProtocol.prototype.globalListen = function (listener) {\n        var _this = this;\n        if (typeof listener !== \"function\") {\n            return function () {\n                return;\n            };\n        }\n        var listenerId = this.globalListenersCount;\n        this.globalListeners[listenerId] = listener;\n        this.globalListenersCount++;\n        return function () {\n            delete _this.globalListeners[listenerId];\n        };\n    };\n    // Add a listener that is called on any message coming from an iframe with the instance channelId\n    // All other messages (eg: from other iframes) are ignored\n    IFrameProtocol.prototype.channelListen = function (listener) {\n        var _this = this;\n        if (typeof listener !== \"function\") {\n            return function () {\n                return;\n            };\n        }\n        var listenerId = this.channelListenersCount;\n        this.channelListeners[listenerId] = listener;\n        this.channelListenersCount++;\n        return function () {\n            delete _this.channelListeners[listenerId];\n        };\n    };\n    // Handles message windows coming from iframes\n    IFrameProtocol.prototype.eventListener = function (evt) {\n        // skip events originating from different iframes\n        if (evt.source !== this.frameWindow) {\n            return;\n        }\n        var message = evt.data;\n        if (!message.codesandbox) {\n            return;\n        }\n        Object.values(this.globalListeners).forEach(function (listener) {\n            return listener(message);\n        });\n        if (message.$id !== this.channelId) {\n            return;\n        }\n        Object.values(this.channelListeners).forEach(function (listener) {\n            return listener(message);\n        });\n    };\n    return IFrameProtocol;\n}());\n\nvar extensionMap = new Map();\nvar entries = Object.entries(mimeDB);\nfor (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n    var _a$1 = entries_1[_i], mimetype = _a$1[0], entry = _a$1[1];\n    // eslint-disable-next-line\n    // @ts-ignore\n    if (!entry.extensions) {\n        continue;\n    }\n    // eslint-disable-next-line\n    // @ts-ignore\n    var extensions = entry.extensions;\n    if (extensions.length) {\n        for (var _b = 0, extensions_1 = extensions; _b < extensions_1.length; _b++) {\n            var ext = extensions_1[_b];\n            extensionMap.set(ext, mimetype);\n        }\n    }\n}\nvar EXTENSIONS_MAP = extensionMap;\n\nvar CHANNEL_NAME = \"$CSB_RELAY\";\n\nvar MAX_CLIENT_DEPENDENCY_COUNT = 50;\nfunction getTemplate(pkg, \n/* eslint-disable @typescript-eslint/no-explicit-any */\nmodules) {\n    if (!pkg) {\n        return \"static\";\n    }\n    var _a = pkg.dependencies, dependencies = _a === void 0 ? {} : _a, _b = pkg.devDependencies, devDependencies = _b === void 0 ? {} : _b;\n    var totalDependencies = __spreadArray(__spreadArray([], Object.keys(dependencies), true), Object.keys(devDependencies), true);\n    var moduleNames = Object.keys(modules);\n    var adonis = [\"@adonisjs/framework\", \"@adonisjs/core\"];\n    if (totalDependencies.some(function (dep) { return adonis.indexOf(dep) > -1; })) {\n        return \"adonis\";\n    }\n    var nuxt = [\"nuxt\", \"nuxt-edge\", \"nuxt-ts\", \"nuxt-ts-edge\", \"nuxt3\"];\n    if (totalDependencies.some(function (dep) { return nuxt.indexOf(dep) > -1; })) {\n        return \"nuxt\";\n    }\n    if (totalDependencies.indexOf(\"next\") > -1) {\n        return \"next\";\n    }\n    var apollo = [\n        \"apollo-server\",\n        \"apollo-server-express\",\n        \"apollo-server-hapi\",\n        \"apollo-server-koa\",\n        \"apollo-server-lambda\",\n        \"apollo-server-micro\",\n    ];\n    if (totalDependencies.some(function (dep) { return apollo.indexOf(dep) > -1; })) {\n        return \"apollo\";\n    }\n    if (totalDependencies.indexOf(\"mdx-deck\") > -1) {\n        return \"mdx-deck\";\n    }\n    if (totalDependencies.indexOf(\"gridsome\") > -1) {\n        return \"gridsome\";\n    }\n    if (totalDependencies.indexOf(\"vuepress\") > -1) {\n        return \"vuepress\";\n    }\n    if (totalDependencies.indexOf(\"ember-cli\") > -1) {\n        return \"ember\";\n    }\n    if (totalDependencies.indexOf(\"sapper\") > -1) {\n        return \"sapper\";\n    }\n    if (totalDependencies.indexOf(\"gatsby\") > -1) {\n        return \"gatsby\";\n    }\n    if (totalDependencies.indexOf(\"quasar\") > -1) {\n        return \"quasar\";\n    }\n    if (totalDependencies.indexOf(\"@docusaurus/core\") > -1) {\n        return \"docusaurus\";\n    }\n    if (totalDependencies.indexOf(\"remix\") > -1) {\n        return \"remix\";\n    }\n    if (totalDependencies.indexOf(\"astro\") > -1) {\n        return \"node\";\n    }\n    // CLIENT\n    if (moduleNames.some(function (m) { return m.endsWith(\".re\"); })) {\n        return \"reason\";\n    }\n    var parcel = [\"parcel-bundler\", \"parcel\"];\n    if (totalDependencies.some(function (dep) { return parcel.indexOf(dep) > -1; })) {\n        return \"parcel\";\n    }\n    var dojo = [\"@dojo/core\", \"@dojo/framework\"];\n    if (totalDependencies.some(function (dep) { return dojo.indexOf(dep) > -1; })) {\n        return \"@dojo/cli-create-app\";\n    }\n    if (totalDependencies.indexOf(\"@nestjs/core\") > -1 ||\n        totalDependencies.indexOf(\"@nestjs/common\") > -1) {\n        return \"nest\";\n    }\n    if (totalDependencies.indexOf(\"react-styleguidist\") > -1) {\n        return \"styleguidist\";\n    }\n    if (totalDependencies.indexOf(\"react-scripts\") > -1) {\n        return \"create-react-app\";\n    }\n    if (totalDependencies.indexOf(\"react-scripts-ts\") > -1) {\n        return \"create-react-app-typescript\";\n    }\n    if (totalDependencies.indexOf(\"@angular/core\") > -1) {\n        return \"angular-cli\";\n    }\n    if (totalDependencies.indexOf(\"preact-cli\") > -1) {\n        return \"preact-cli\";\n    }\n    if (totalDependencies.indexOf(\"@sveltech/routify\") > -1 ||\n        totalDependencies.indexOf(\"@roxi/routify\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"vite\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"@frontity/core\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"svelte\") > -1) {\n        return \"svelte\";\n    }\n    if (totalDependencies.indexOf(\"vue\") > -1) {\n        return \"vue-cli\";\n    }\n    if (totalDependencies.indexOf(\"cx\") > -1) {\n        return \"cxjs\";\n    }\n    var nodeDeps = [\n        \"express\",\n        \"koa\",\n        \"nodemon\",\n        \"ts-node\",\n        \"@tensorflow/tfjs-node\",\n        \"webpack-dev-server\",\n        \"snowpack\",\n    ];\n    if (totalDependencies.some(function (dep) { return nodeDeps.indexOf(dep) > -1; })) {\n        return \"node\";\n    }\n    if (Object.keys(dependencies).length >= MAX_CLIENT_DEPENDENCY_COUNT) {\n        // The dependencies are too much for client sandboxes to handle\n        return \"node\";\n    }\n    return undefined;\n}\nfunction getExtension(filepath) {\n    var parts = filepath.split(\".\");\n    if (parts.length <= 1) {\n        return \"\";\n    }\n    else {\n        var ext = parts[parts.length - 1];\n        return ext;\n    }\n}\n\nvar _a;\nvar SUFFIX_PLACEHOLDER = \"-{{suffix}}\";\nvar BUNDLER_URL = \"https://\".concat((_a = \"2.19.8\") === null || _a === void 0 ? void 0 : _a.replace(/\\./g, \"-\")).concat(SUFFIX_PLACEHOLDER, \"-sandpack.codesandbox.io/\");\nvar SandpackRuntime = /** @class */ (function (_super) {\n    __extends(SandpackRuntime, _super);\n    function SandpackRuntime(selector, sandboxSetup, options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, selector, sandboxSetup, options) || this;\n        _this.getTranspilerContext = function () {\n            return new Promise(function (resolve) {\n                var unsubscribe = _this.listen(function (message) {\n                    if (message.type === \"transpiler-context\") {\n                        resolve(message.data);\n                        unsubscribe();\n                    }\n                });\n                _this.dispatch({ type: \"get-transpiler-context\" });\n            });\n        };\n        _this.getTranspiledFiles = function () {\n            return new Promise(function (resolve) {\n                var unsubscribe = _this.listen(function (message) {\n                    if (message.type === \"all-modules\") {\n                        resolve(message.data);\n                        unsubscribe();\n                    }\n                });\n                _this.dispatch({ type: \"get-modules\" });\n            });\n        };\n        _this.bundlerURL = _this.createBundlerURL();\n        _this.bundlerState = undefined;\n        _this.errors = [];\n        _this.status = \"initializing\";\n        if (typeof selector === \"string\") {\n            _this.selector = selector;\n            var element = document.querySelector(selector);\n            nullthrows(element, \"The element '\".concat(selector, \"' was not found\"));\n            _this.element = element;\n            _this.iframe = document.createElement(\"iframe\");\n            _this.initializeElement();\n        }\n        else {\n            _this.element = selector;\n            _this.iframe = selector;\n        }\n        if (!_this.iframe.getAttribute(\"sandbox\")) {\n            _this.iframe.setAttribute(\"sandbox\", \"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-downloads allow-pointer-lock\");\n            _this.iframe.setAttribute(\"allow\", \"accelerometer; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; clipboard-read; clipboard-write; xr-spatial-tracking;\");\n        }\n        _this.setLocationURLIntoIFrame();\n        _this.iframeProtocol = new IFrameProtocol(_this.iframe, _this.bundlerURL);\n        _this.unsubscribeGlobalListener = _this.iframeProtocol.globalListen(function (mes) {\n            if (mes.type !== \"initialized\" || !_this.iframe.contentWindow) {\n                return;\n            }\n            _this.iframeProtocol.register();\n            if (_this.options.fileResolver) {\n                _this.fileResolverProtocol = new Protocol(\"fs\", function (data) { return __awaiter(_this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        if (data.method === \"isFile\") {\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            return [2 /*return*/, this.options.fileResolver.isFile(data.params[0])];\n                        }\n                        else if (data.method === \"readFile\") {\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            return [2 /*return*/, this.options.fileResolver.readFile(data.params[0])];\n                        }\n                        else {\n                            throw new Error(\"Method not supported\");\n                        }\n                    });\n                }); }, _this.iframeProtocol);\n            }\n            _this.updateSandbox(_this.sandboxSetup, true);\n        });\n        _this.unsubscribeChannelListener = _this.iframeProtocol.channelListen(function (mes) {\n            switch (mes.type) {\n                case \"start\": {\n                    _this.errors = [];\n                    break;\n                }\n                case \"status\": {\n                    _this.status = mes.status;\n                    break;\n                }\n                case \"action\": {\n                    if (mes.action === \"show-error\") {\n                        _this.errors = __spreadArray(__spreadArray([], _this.errors, true), [extractErrorDetails(mes)], false);\n                    }\n                    break;\n                }\n                case \"done\": {\n                    _this.status = \"done\";\n                    break;\n                }\n                case \"state\": {\n                    _this.bundlerState = mes.state;\n                    break;\n                }\n            }\n        });\n        if (options.experimental_enableServiceWorker) {\n            _this.serviceWorkerHandshake();\n        }\n        return _this;\n    }\n    SandpackRuntime.prototype.createBundlerURL = function () {\n        var _a;\n        var bundlerURL = this.options.bundlerURL || BUNDLER_URL;\n        // if it's a custom, skip the rest\n        if (this.options.bundlerURL) {\n            return bundlerURL;\n        }\n        if (this.options.teamId) {\n            bundlerURL =\n                bundlerURL.replace(\"https://\", \"https://\" + this.options.teamId + \"-\") +\n                    \"?cache=\".concat(Date.now());\n        }\n        if (this.options.experimental_enableServiceWorker) {\n            var suffixes = [];\n            suffixes.push(Math.random().toString(36).slice(4));\n            bundlerURL = bundlerURL.replace(SUFFIX_PLACEHOLDER, \"-\".concat((_a = this.options.experimental_stableServiceWorkerId) !== null && _a !== void 0 ? _a : suffixes.join(\"-\")));\n        }\n        else {\n            bundlerURL = bundlerURL.replace(SUFFIX_PLACEHOLDER, \"\");\n        }\n        return bundlerURL;\n    };\n    SandpackRuntime.prototype.serviceWorkerHandshake = function () {\n        var _this = this;\n        var channel = new MessageChannel();\n        var iframeContentWindow = this.iframe.contentWindow;\n        if (!iframeContentWindow) {\n            throw new Error(\"Could not get iframe contentWindow\");\n        }\n        var port = channel.port1;\n        port.onmessage = function (evt) {\n            if (typeof evt.data === \"object\" && evt.data.$channel === CHANNEL_NAME) {\n                switch (evt.data.$type) {\n                    case \"preview/ready\":\n                        // no op for now\n                        break;\n                    case \"preview/request\":\n                        _this.handleWorkerRequest(evt.data, port);\n                        break;\n                }\n            }\n        };\n        var sendMessage = function () {\n            var initMsg = {\n                $channel: CHANNEL_NAME,\n                $type: \"preview/init\",\n            };\n            iframeContentWindow.postMessage(initMsg, \"*\", [channel.port2]);\n            _this.iframe.removeEventListener(\"load\", sendMessage);\n        };\n        this.iframe.addEventListener(\"load\", sendMessage);\n    };\n    SandpackRuntime.prototype.handleWorkerRequest = function (request, port) {\n        return __awaiter(this, void 0, void 0, function () {\n            var notFound, filepath_1, headers, files, file, modulesFromManager, body, extension, foundMimetype, responseMessage, err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        notFound = function () {\n                            var responseMessage = {\n                                $channel: CHANNEL_NAME,\n                                $type: \"preview/response\",\n                                id: request.id,\n                                headers: {\n                                    \"Content-Type\": \"text/html; charset=utf-8\",\n                                },\n                                status: 404,\n                                body: \"File not found\",\n                            };\n                            port.postMessage(responseMessage);\n                        };\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, , 5]);\n                        filepath_1 = new URL(request.url, this.bundlerURL).pathname;\n                        headers = {};\n                        files = this.getFiles();\n                        file = files[filepath_1];\n                        if (!!file) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this.getTranspiledFiles()];\n                    case 2:\n                        modulesFromManager = _a.sent();\n                        file = modulesFromManager.find(function (item) {\n                            return item.path.endsWith(filepath_1);\n                        });\n                        if (!file) {\n                            notFound();\n                            return [2 /*return*/];\n                        }\n                        _a.label = 3;\n                    case 3:\n                        body = file.code;\n                        if (!headers[\"Content-Type\"]) {\n                            extension = getExtension(filepath_1);\n                            foundMimetype = EXTENSIONS_MAP.get(extension);\n                            if (foundMimetype) {\n                                headers[\"Content-Type\"] = foundMimetype;\n                            }\n                        }\n                        responseMessage = {\n                            $channel: CHANNEL_NAME,\n                            $type: \"preview/response\",\n                            id: request.id,\n                            headers: headers,\n                            status: 200,\n                            body: body,\n                        };\n                        port.postMessage(responseMessage);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        err_1 = _a.sent();\n                        console.error(err_1);\n                        notFound();\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SandpackRuntime.prototype.setLocationURLIntoIFrame = function () {\n        var _a;\n        var urlSource = this.options.startRoute\n            ? new URL(this.options.startRoute, this.bundlerURL).toString()\n            : this.bundlerURL;\n        (_a = this.iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.location.replace(urlSource);\n        this.iframe.src = urlSource;\n    };\n    SandpackRuntime.prototype.destroy = function () {\n        this.unsubscribeChannelListener();\n        this.unsubscribeGlobalListener();\n        this.iframeProtocol.cleanup();\n    };\n    SandpackRuntime.prototype.updateOptions = function (options) {\n        if (!dequal(this.options, options)) {\n            this.options = options;\n            this.updateSandbox();\n        }\n    };\n    SandpackRuntime.prototype.updateSandbox = function (sandboxSetup, isInitializationCompile) {\n        var _a, _b, _c, _d;\n        if (sandboxSetup === void 0) { sandboxSetup = this.sandboxSetup; }\n        this.sandboxSetup = __assign(__assign({}, this.sandboxSetup), sandboxSetup);\n        var files = this.getFiles();\n        var modules = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next] = {\n                code: files[next].code,\n                path: next,\n            }, _a)));\n        }, {});\n        var packageJSON = JSON.parse(createPackageJSON(this.sandboxSetup.dependencies, this.sandboxSetup.devDependencies, this.sandboxSetup.entry));\n        try {\n            packageJSON = JSON.parse(files[\"/package.json\"].code);\n        }\n        catch (e) {\n            console.error(createError(\"could not parse package.json file: \" + e.message));\n        }\n        // TODO move this to a common format\n        var normalizedModules = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next] = {\n                content: files[next].code,\n                path: next,\n            }, _a)));\n        }, {});\n        this.dispatch(__assign(__assign({}, this.options), { type: \"compile\", codesandbox: true, version: 3, isInitializationCompile: isInitializationCompile, modules: modules, reactDevTools: this.options.reactDevTools, externalResources: this.options.externalResources || [], hasFileResolver: Boolean(this.options.fileResolver), disableDependencyPreprocessing: this.sandboxSetup.disableDependencyPreprocessing, experimental_enableServiceWorker: this.options.experimental_enableServiceWorker, template: this.sandboxSetup.template ||\n                getTemplate(packageJSON, normalizedModules), showOpenInCodeSandbox: (_a = this.options.showOpenInCodeSandbox) !== null && _a !== void 0 ? _a : true, showErrorScreen: (_b = this.options.showErrorScreen) !== null && _b !== void 0 ? _b : true, showLoadingScreen: (_c = this.options.showLoadingScreen) !== null && _c !== void 0 ? _c : false, skipEval: this.options.skipEval || false, clearConsoleDisabled: !this.options.clearConsoleOnFirstCompile, logLevel: (_d = this.options.logLevel) !== null && _d !== void 0 ? _d : SandpackLogLevel.Info, customNpmRegistries: this.options.customNpmRegistries, teamId: this.options.teamId, sandboxId: this.options.sandboxId }));\n    };\n    SandpackRuntime.prototype.dispatch = function (message) {\n        /**\n         * Intercept \"refresh\" dispatch: this will make sure\n         * that the iframe is still in the location it's supposed to be.\n         * External links inside the iframe will change the location and\n         * prevent the user from navigating back.\n         */\n        if (message.type === \"refresh\") {\n            this.setLocationURLIntoIFrame();\n            if (this.options.experimental_enableServiceWorker) {\n                this.serviceWorkerHandshake();\n            }\n        }\n        this.iframeProtocol.dispatch(message);\n    };\n    SandpackRuntime.prototype.listen = function (listener) {\n        return this.iframeProtocol.channelListen(listener);\n    };\n    /**\n     * Get the URL of the contents of the current sandbox\n     */\n    SandpackRuntime.prototype.getCodeSandboxURL = function () {\n        var files = this.getFiles();\n        var paramFiles = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next.replace(\"/\", \"\")] = {\n                content: files[next].code,\n                isBinary: false,\n            }, _a)));\n        }, {});\n        return fetch(\"https://codesandbox.io/api/v1/sandboxes/define?json=1\", {\n            method: \"POST\",\n            body: JSON.stringify({ files: paramFiles }),\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n        })\n            .then(function (x) { return x.json(); })\n            .then(function (res) { return ({\n            sandboxId: res.sandbox_id,\n            editorUrl: \"https://codesandbox.io/s/\".concat(res.sandbox_id),\n            embedUrl: \"https://codesandbox.io/embed/\".concat(res.sandbox_id),\n        }); });\n    };\n    SandpackRuntime.prototype.getFiles = function () {\n        var sandboxSetup = this.sandboxSetup;\n        if (sandboxSetup.files[\"/package.json\"] === undefined) {\n            return addPackageJSONIfNeeded(sandboxSetup.files, sandboxSetup.dependencies, sandboxSetup.devDependencies, sandboxSetup.entry);\n        }\n        return this.sandboxSetup.files;\n    };\n    SandpackRuntime.prototype.initializeElement = function () {\n        this.iframe.style.border = \"0\";\n        this.iframe.style.width = this.options.width || \"100%\";\n        this.iframe.style.height = this.options.height || \"100%\";\n        this.iframe.style.overflow = \"hidden\";\n        nullthrows(this.element.parentNode, \"The given iframe does not have a parent.\");\n        this.element.parentNode.replaceChild(this.iframe, this.element);\n    };\n    return SandpackRuntime;\n}(SandpackClient));\n\nexport { SandpackRuntime };\n"],"names":[],"mappings":"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","ignoreList":[0,1,2]}