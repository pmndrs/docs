(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1972,t=>{"use strict";var e=t.i(99154),r=t.i(62485),a=t.i(79685),n=t.i(52545),i=t.i(33055),s=t.i(44836),l=t.i(49114),o=t.i(58295);t.i(91577);var d=t.i(52195),c=t.i(60605),h=t.i(88446),p=t.i(19412),u=t.i(34236),f=t.i(87580),y=t.i(14605),g=t.i(11986),_=t.i(12669),m=t.i(73593),b=t.i(14826),x=t.i(72737),k=t.i(58424),w=t.i(92423),M=t.i(70126),v=(0,o.__name)((t,e,r,a,n,i)=>{e.arrowTypeStart&&$(t,"start",e.arrowTypeStart,r,a,n,i),e.arrowTypeEnd&&$(t,"end",e.arrowTypeEnd,r,a,n,i)},"addEdgeMarkers"),L={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},$=(0,o.__name)((t,e,r,a,n,i,s)=>{let l=L[r];if(!l)return void o.log.warn(`Unknown arrow type: ${r}`);let d=l.type,c=`${n}_${i}-${d}${"start"===e?"Start":"End"}`;if(s&&""!==s.trim()){let r=s.replace(/[^\dA-Za-z]/g,"_"),n=`${c}_${r}`;if(!document.getElementById(n)){let t=document.getElementById(c);if(t){let e=t.cloneNode(!0);e.id=n,e.querySelectorAll("path, circle, line").forEach(t=>{t.setAttribute("stroke",s),l.fill&&t.setAttribute("fill",s)}),t.parentNode?.appendChild(e)}}t.attr(`marker-${e}`,`url(${a}#${n})`)}else t.attr(`marker-${e}`,`url(${a}#${c})`)},"addEdgeMarker"),S=new Map,O=new Map,E=(0,o.__name)(()=>{S.clear(),O.clear()},"clear"),C=(0,o.__name)(t=>t?t.reduce((t,e)=>t+";"+e,""):"","getLabelStyles"),T=(0,o.__name)(async(t,e)=>{let a,s=(0,l.evaluate)((0,l.getConfig2)().flowchart.htmlLabels),{labelStyles:d}=(0,n.styles2String)(e);e.labelStyle=d;let c=await (0,i.createText)(t,e.label,{style:e.labelStyle,useHtmlLabels:s,addSvgBackground:!0,isNode:!1});o.log.info("abc82",e,e.labelType);let h=t.insert("g").attr("class","edgeLabel"),p=h.insert("g").attr("class","label").attr("data-id",e.id);p.node().appendChild(c);let u=c.getBBox();if(s){let t=c.children[0],e=(0,w.select)(c);u=t.getBoundingClientRect(),e.attr("width",u.width),e.attr("height",u.height)}if(p.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),S.set(e.id,h),e.width=u.width,e.height=u.height,e.startLabelLeft){let n=await (0,r.createLabel_default)(e.startLabelLeft,C(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),s=i.insert("g").attr("class","inner");a=s.node().appendChild(n);let l=n.getBBox();s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),O.get(e.id)||O.set(e.id,{}),O.get(e.id).startLeft=i,j(a,e.startLabelLeft)}if(e.startLabelRight){let n=await (0,r.createLabel_default)(e.startLabelRight,C(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),s=i.insert("g").attr("class","inner");a=i.node().appendChild(n),s.node().appendChild(n);let l=n.getBBox();s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),O.get(e.id)||O.set(e.id,{}),O.get(e.id).startRight=i,j(a,e.startLabelRight)}if(e.endLabelLeft){let n=await (0,r.createLabel_default)(e.endLabelLeft,C(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),s=i.insert("g").attr("class","inner");a=s.node().appendChild(n);let l=n.getBBox();s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),i.node().appendChild(n),O.get(e.id)||O.set(e.id,{}),O.get(e.id).endLeft=i,j(a,e.endLabelLeft)}if(e.endLabelRight){let n=await (0,r.createLabel_default)(e.endLabelRight,C(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),s=i.insert("g").attr("class","inner");a=s.node().appendChild(n);let l=n.getBBox();s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),i.node().appendChild(n),O.get(e.id)||O.set(e.id,{}),O.get(e.id).endRight=i,j(a,e.endLabelRight)}return c},"insertEdgeLabel");function j(t,e){(0,l.getConfig2)().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}(0,o.__name)(j,"setTerminalWidth");var A=(0,o.__name)((t,e)=>{o.log.debug("Moving label abc88 ",t.id,t.label,S.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath,n=(0,l.getConfig2)(),{subGraphTitleTotalMargin:i}=(0,a.getSubGraphTitleMargins)(n);if(t.label){let a=S.get(t.id),n=t.x,l=t.y;if(r){let a=s.utils_default.calcLabelPosition(r);o.log.debug("Moving label "+t.label+" from (",n,",",l,") to (",a.x,",",a.y,") abc88"),e.updatedPath&&(n=a.x,l=a.y)}a.attr("transform",`translate(${n}, ${l+i/2})`)}if(t.startLabelLeft){let e=O.get(t.id).startLeft,a=t.x,n=t.y;if(r){let e=s.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeStart,"start_left",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}if(t.startLabelRight){let e=O.get(t.id).startRight,a=t.x,n=t.y;if(r){let e=s.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeStart,"start_right",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}if(t.endLabelLeft){let e=O.get(t.id).endLeft,a=t.x,n=t.y;if(r){let e=s.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeEnd,"end_left",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}if(t.endLabelRight){let e=O.get(t.id).endRight,a=t.x,n=t.y;if(r){let e=s.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeEnd,"end_right",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}},"positionEdgeLabel"),R=(0,o.__name)((t,e)=>{let r=t.x,a=t.y,n=Math.abs(e.x-r),i=Math.abs(e.y-a),s=t.width/2,l=t.height/2;return n>=s||i>=l},"outsideNode"),P=(0,o.__name)((t,e,r)=>{o.log.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);let a=t.x,n=t.y,i=Math.abs(a-r.x),s=t.width/2,l=r.x<e.x?s-i:s+i,d=t.height/2,c=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(n-e.y)*s>Math.abs(a-e.x)*d){let t=r.y<e.y?e.y-d-n:n-d-e.y;l=h*t/c;let a={x:r.x<e.x?r.x+l:r.x-h+l,y:r.y<e.y?r.y+c-t:r.y-c+t};return 0===l&&(a.x=e.x,a.y=e.y),0===h&&(a.x=e.x),0===c&&(a.y=e.y),o.log.debug(`abc89 top/bottom calc, Q ${c}, q ${t}, R ${h}, r ${l}`,a),a}{let t=c*(l=r.x<e.x?e.x-s-a:a-s-e.x)/h,n=r.x<e.x?r.x+h-l:r.x-h+l,i=r.y<e.y?r.y+t:r.y-t;return o.log.debug(`sides calc abc89, Q ${c}, q ${t}, R ${h}, r ${l}`,{_x:n,_y:i}),0===l&&(n=e.x,i=e.y),0===h&&(n=e.x),0===c&&(i=e.y),{x:n,y:i}}},"intersection"),z=(0,o.__name)((t,e)=>{o.log.warn("abc88 cutPathAtIntersect",t,e);let r=[],a=t[0],n=!1;return t.forEach(t=>{if(o.log.info("abc88 checking point",t,e),R(e,t)||n)o.log.warn("abc88 outside",t,a),a=t,n||r.push(t);else{let i=P(e,a,t);o.log.debug("abc88 inside",t,a,i),o.log.debug("abc88 intersection",i,e);let s=!1;r.forEach(t=>{s=s||t.x===i.x&&t.y===i.y}),r.some(t=>t.x===i.x&&t.y===i.y)?o.log.warn("abc88 no intersect",i,r):r.push(i),n=!0}}),o.log.debug("returning points",r),r},"cutPathAtIntersect");function B(t){let e=[],r=[];for(let a=1;a<t.length-1;a++){let n=t[a-1],i=t[a],s=t[a+1];n.x===i.x&&i.y===s.y&&Math.abs(i.x-s.x)>5&&Math.abs(i.y-n.y)>5?(e.push(i),r.push(a)):n.y===i.y&&i.x===s.x&&Math.abs(i.x-n.x)>5&&Math.abs(i.y-s.y)>5&&(e.push(i),r.push(a))}return{cornerPoints:e,cornerPointPositions:r}}(0,o.__name)(B,"extractCornerPoints");var W=(0,o.__name)(function(t,e,r){let a=e.x-t.x,n=e.y-t.y,i=r/Math.sqrt(a*a+n*n);return{x:e.x-i*a,y:e.y-i*n}},"findAdjacentPoint"),U=(0,o.__name)(function(t){let{cornerPointPositions:e}=B(t),r=[];for(let a=0;a<t.length;a++)if(e.includes(a)){let e=t[a-1],n=t[a+1],i=t[a],s=W(e,i,5),l=W(n,i,5),d=l.x-s.x,c=l.y-s.y;r.push(s);let h=2*Math.sqrt(2),p={x:i.x,y:i.y};Math.abs(n.x-e.x)>10&&Math.abs(n.y-e.y)>=10?(o.log.debug("Corner point fixing",Math.abs(n.x-e.x),Math.abs(n.y-e.y)),p=i.x===s.x?{x:d<0?s.x-5+h:s.x+5-h,y:c<0?s.y-h:s.y+h}:{x:d<0?s.x-h:s.x+h,y:c<0?s.y-5+h:s.y+5-h}):o.log.debug("Corner point skipping fixing",Math.abs(n.x-e.x),Math.abs(n.y-e.y)),r.push(p,l)}else r.push(t[a]);return r},"fixCorners"),X=(0,o.__name)((t,e,r)=>{let a=Array(Math.floor((t-e-r)/4)).fill("2 2").join(" ");return`0 ${e} ${a} ${r}`},"generateDashArray"),Y=(0,o.__name)(function(t,r,a,i,L,$,S,O=!1){let E,C,{handDrawnSeed:T}=(0,l.getConfig2)(),j=r.points,A=!1,R=[];for(let t in r.cssCompiledStyles)(0,n.isLabelStyle)(t)||R.push(r.cssCompiledStyles[t]);o.log.debug("UIO intersect check",r.points,$.x,L.x),$.intersect&&L.intersect&&!O&&((j=j.slice(1,r.points.length-1)).unshift(L.intersect(j[0])),o.log.debug("Last point UIO",r.start,"-->",r.end,j[j.length-1],$,$.intersect(j[j.length-1])),j.push($.intersect(j[j.length-1])));let P=btoa(JSON.stringify(j));r.toCluster&&(o.log.info("to cluster abc88",a.get(r.toCluster)),j=z(r.points,a.get(r.toCluster).node),A=!0),r.fromCluster&&(o.log.debug("from cluster abc88",a.get(r.fromCluster),JSON.stringify(j,null,2)),j=z(j.reverse(),a.get(r.fromCluster).node).reverse(),A=!0);let B=j.filter(t=>!Number.isNaN(t.y));B=U(B);let W=d.curveBasis;switch(W=c.curveLinear,r.curve){case"linear":W=c.curveLinear;break;case"basis":default:W=d.curveBasis;break;case"cardinal":W=h.curveCardinal;break;case"bumpX":W=p.curveBumpX;break;case"bumpY":W=u.curveBumpY;break;case"catmullRom":W=f.curveCatmullRom;break;case"monotoneX":W=y.curveMonotoneX;break;case"monotoneY":W=g.curveMonotoneY;break;case"natural":W=_.curveNatural;break;case"step":W=m.curveStep;break;case"stepAfter":W=b.curveStepAfter;break;case"stepBefore":W=x.curveStepBefore}let{x:Y,y:H}=(0,e.getLineFunctionsWithOffset)(r),q=(0,k.line)().x(Y).y(H).curve(W);switch(r.thickness){case"normal":default:E="edge-thickness-normal";break;case"thick":E="edge-thickness-thick";break;case"invisible":E="edge-thickness-invisible"}switch(r.pattern){case"solid":default:E+=" edge-pattern-solid";break;case"dotted":E+=" edge-pattern-dotted";break;case"dashed":E+=" edge-pattern-dashed"}let I="rounded"===r.curve?N(F(B,r),5):q(B),Q=Array.isArray(r.style)?r.style:[r.style],Z=Q.find(t=>t?.startsWith("stroke:")),D=!1;if("handDrawn"===r.look){let e=M.default.svg(t);Object.assign([],B);let a=e.path(I,{roughness:.3,seed:T});E+=" transition";let n=(C=(0,w.select)(a).select("path").attr("id",r.id).attr("class"," "+E+(r.classes?" "+r.classes:"")).attr("style",Q?Q.reduce((t,e)=>t+";"+e,""):"")).attr("d");C.attr("d",n),t.node().appendChild(C.node())}else{let a=R.join(";"),n=Q?Q.reduce((t,e)=>t+e+";",""):"",i="";r.animate&&(i=" edge-animation-fast"),r.animation&&(i=" edge-animation-"+r.animation);let s=(a?a+";"+n+";":n)+";"+(Q?Q.reduce((t,e)=>t+";"+e,""):"");C=t.append("path").attr("d",I).attr("id",r.id).attr("class"," "+E+(r.classes?" "+r.classes:"")+(i??"")).attr("style",s),Z=s.match(/stroke:([^;]+)/)?.[1],D=!0===r.animate||!!r.animation||a.includes("animation");let l=C.node(),o="function"==typeof l.getTotalLength?l.getTotalLength():0,d=e.markerOffsets2[r.arrowTypeStart]||0,c=e.markerOffsets2[r.arrowTypeEnd]||0;if("neo"===r.look&&!D){let t="dotted"===r.pattern||"dashed"===r.pattern?X(o,d,c):`0 ${d} ${o-d-c} ${c}`,e=`stroke-dasharray: ${t}; stroke-dashoffset: 0;`;C.attr("style",e+C.attr("style"))}}C.attr("data-edge",!0),C.attr("data-et","edge"),C.attr("data-id",r.id),C.attr("data-points",P),r.showPoints&&B.forEach(e=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",e.x).attr("cy",e.y)});let G="";((0,l.getConfig2)().flowchart.arrowMarkerAbsolute||(0,l.getConfig2)().state.arrowMarkerAbsolute)&&(G=(G=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(").replace(/\)/g,"\\)")),o.log.info("arrowTypeStart",r.arrowTypeStart),o.log.info("arrowTypeEnd",r.arrowTypeEnd),v(C,r,G,S,i,Z);let K=Math.floor(j.length/2),J=j[K];s.utils_default.isLabelCoordinateInPath(J,C.attr("d"))||(A=!0);let V={};return A&&(V.updatedPath=j),V.originalPath=r.points,V},"insertEdge");function N(t,e){if(t.length<2)return"";let r="",a=t.length;for(let n=0;n<a;n++){let i=t[n],s=t[n-1],l=t[n+1];if(0===n)r+=`M${i.x},${i.y}`;else if(n===a-1)r+=`L${i.x},${i.y}`;else{let t=i.x-s.x,a=i.y-s.y,n=l.x-i.x,o=l.y-i.y,d=Math.hypot(t,a),c=Math.hypot(n,o);if(d<1e-5||c<1e-5){r+=`L${i.x},${i.y}`;continue}let h=t/d,p=a/d,u=n/c,f=o/c,y=Math.acos(Math.max(-1,Math.min(1,h*u+p*f)));if(y<1e-5||1e-5>Math.abs(Math.PI-y)){r+=`L${i.x},${i.y}`;continue}let g=Math.min(e/Math.sin(y/2),d/2,c/2),_=i.x-h*g,m=i.y-p*g,b=i.x+u*g,x=i.y+f*g;r+=`L${_},${m}Q${i.x},${i.y} ${b},${x}`}}return r}function H(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};let r=e.x-t.x,a=e.y-t.y;return{angle:Math.atan2(a,r),deltaX:r,deltaY:a}}function F(t,r){let a=t.map(t=>({...t}));if(t.length>=2&&e.markerOffsets[r.arrowTypeStart]){let n=e.markerOffsets[r.arrowTypeStart],i=t[0],{angle:s}=H(i,t[1]),l=n*Math.cos(s),o=n*Math.sin(s);a[0].x=i.x+l,a[0].y=i.y+o}let n=t.length;if(n>=2&&e.markerOffsets[r.arrowTypeEnd]){let i=e.markerOffsets[r.arrowTypeEnd],s=t[n-1],{angle:l}=H(t[n-2],s),o=i*Math.cos(l),d=i*Math.sin(l);a[n-1].x=s.x-o,a[n-1].y=s.y-d}return a}(0,o.__name)(N,"generateRoundedPath"),(0,o.__name)(H,"calculateDeltaAndAngle"),(0,o.__name)(F,"applyMarkerOffsetsToPoints");var q=(0,o.__name)((t,e,r,a)=>{e.forEach(e=>{ti[e](t,r,a)})},"insertMarkers"),I=(0,o.__name)((t,e,r)=>{o.log.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Q=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Z=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),D=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),G=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),K=(0,o.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),J=(0,o.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),V=(0,o.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),tt=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),te=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),tr=(0,o.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),a.append("path").attr("d","M9,0 L9,18");let n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),ta=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),tn=(0,o.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),a.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),ti={extension:I,composition:Q,aggregation:Z,dependency:D,lollipop:G,point:K,circle:J,cross:V,barb:tt,only_one:te,zero_or_one:tr,one_or_more:ta,zero_or_more:tn,requirement_arrow:(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),requirement_contains:(0,o.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");a.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),a.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),a.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains")};t.s(["clear",()=>E,"insertEdge",()=>Y,"insertEdgeLabel",()=>T,"markers_default",()=>q,"positionEdgeLabel",()=>A])},79685,t=>{"use strict";var e=(0,t.i(58295).__name)(({flowchart:t})=>{let e=t?.subGraphTitleMargin?.top??0,r=t?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:e+r}},"getSubGraphTitleMargins");t.s(["getSubGraphTitleMargins",()=>e])},52545,t=>{"use strict";var e=t.i(49114),r=t.i(58295),a=(0,r.__name)(t=>{let{handDrawnSeed:r}=(0,e.getConfig2)();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:r}},"solidStateFill"),n=(0,r.__name)(t=>{let e=i([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),i=(0,r.__name)(t=>{let e=new Map;return t.forEach(t=>{let[r,a]=t.split(":");e.set(r.trim(),a?.trim())}),e},"styles2Map"),s=(0,r.__name)(t=>"color"===t||"font-size"===t||"font-family"===t||"font-weight"===t||"font-style"===t||"text-decoration"===t||"text-align"===t||"text-transform"===t||"line-height"===t||"letter-spacing"===t||"word-spacing"===t||"text-shadow"===t||"text-overflow"===t||"white-space"===t||"word-wrap"===t||"word-break"===t||"overflow-wrap"===t||"hyphens"===t,"isLabelStyle"),l=(0,r.__name)(t=>{let{stylesArray:e}=n(t),r=[],a=[],i=[],l=[];return e.forEach(t=>{let e=t[0];s(e)?r.push(t.join(":")+" !important"):(a.push(t.join(":")+" !important"),e.includes("stroke")&&i.push(t.join(":")+" !important"),"fill"===e&&l.push(t.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:a.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:l}},"styles2String"),o=(0,r.__name)((t,r)=>{let{themeVariables:a,handDrawnSeed:i}=(0,e.getConfig2)(),{nodeBorder:s,mainBkg:l}=a,{stylesMap:o}=n(t);return Object.assign({roughness:.7,fill:o.get("fill")||l,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||s,seed:i,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:d(o.get("stroke-dasharray"))},r)},"userNodeOverrides"),d=(0,r.__name)(t=>{if(!t)return[0,0];let e=t.trim().split(/\s+/).map(Number);if(1===e.length){let t=isNaN(e[0])?0:e[0];return[t,t]}return[isNaN(e[0])?0:e[0],isNaN(e[1])?0:e[1]]},"getStrokeDashArray");t.s(["compileStyles",()=>n,"isLabelStyle",()=>s,"solidStateFill",()=>a,"styles2String",()=>l,"userNodeOverrides",()=>o])},51934,t=>{"use strict";Array.prototype.slice,t.s(["default",0,function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}])},78585,7817,53066,98152,t=>{"use strict";var e,r=t.i(66207);let a=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};t.s(["default",0,a],7817);let n=function(t){if(!a(t))return!1;var e=(0,r.default)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};t.s(["default",0,n],53066);var i=t.i(65550).default["__core-js_shared__"],s=(e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",l=Function.prototype.toString;let o=function(t){if(null!=t){try{return l.call(t)}catch(t){}try{return t+""}catch(t){}}return""};t.s(["default",0,o],98152);var d=/^\[object .+?Constructor\]$/,c=Object.prototype,h=Function.prototype.toString,p=c.hasOwnProperty,u=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");let f=function(t){return!!a(t)&&(!s||!(s in t))&&(n(t)?u:d).test(o(t))};t.s(["default",0,function(t,e){var r=null==t?void 0:t[e];return f(r)?r:void 0}],78585)},38510,t=>{"use strict";var e=(0,t.i(78585).default)(Object,"create"),r=Object.prototype.hasOwnProperty,a=Object.prototype.hasOwnProperty;function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}n.prototype.clear=function(){this.__data__=e?e(null):{},this.size=0},n.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=!!e,e},n.prototype.get=function(t){var a=this.__data__;if(e){var n=a[t];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(a,t)?a[t]:void 0},n.prototype.has=function(t){var r=this.__data__;return e?void 0!==r[t]:a.call(r,t)},n.prototype.set=function(t,r){var a=this.__data__;return this.size+=+!this.has(t),a[t]=e&&void 0===r?"__lodash_hash_undefined__":r,this},t.s(["default",0,n],38510)},82059,45652,t=>{"use strict";let e=function(t,e){return t===e||t!=t&&e!=e};t.s(["default",0,e],45652);let r=function(t,r){for(var a=t.length;a--;)if(e(t[a][0],r))return a;return -1};var a=Array.prototype.splice;function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}n.prototype.clear=function(){this.__data__=[],this.size=0},n.prototype.delete=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)},n.prototype.get=function(t){var e=this.__data__,a=r(e,t);return a<0?void 0:e[a][1]},n.prototype.has=function(t){return r(this.__data__,t)>-1},n.prototype.set=function(t,e){var a=this.__data__,n=r(a,t);return n<0?(++this.size,a.push([t,e])):a[n][1]=e,this},t.s(["default",0,n],82059)},83334,t=>{"use strict";var e=t.i(78585),r=t.i(65550),a=(0,e.default)(r.default,"Map");t.s(["default",0,a])},8375,t=>{"use strict";var e=t.i(38510),r=t.i(82059),a=t.i(83334);let n=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},i=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map};function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}s.prototype.clear=function(){this.size=0,this.__data__={hash:new e.default,map:new(a.default||r.default),string:new e.default}},s.prototype.delete=function(t){var e=i(this,t).delete(t);return this.size-=!!e,e},s.prototype.get=function(t){return i(this,t).get(t)},s.prototype.has=function(t){return i(this,t).has(t)},s.prototype.set=function(t,e){var r=i(this,t),a=r.size;return r.set(t,e),this.size+=+(r.size!=a),this},t.s(["default",0,s],8375)},62919,t=>{"use strict";var e=t.i(8375);function r(t,a){if("function"!=typeof t||null!=a&&"function"!=typeof a)throw TypeError("Expected a function");var n=function(){var e=arguments,r=a?a.apply(this,e):e[0],i=n.cache;if(i.has(r))return i.get(r);var s=t.apply(this,e);return n.cache=i.set(r,s)||i,s};return n.cache=new(r.Cache||e.default),n}r.Cache=e.default,t.s(["default",0,r])},78384,56549,95261,98053,t=>{"use strict";var e=t.i(82059);t.s(["default",0,function(){this.__data__=new e.default,this.size=0}],78384),t.s(["default",0,function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}],56549),t.s(["default",0,function(t){return this.__data__.get(t)}],95261),t.s(["default",0,function(t){return this.__data__.has(t)}],98053)},46987,t=>{"use strict";var e=t.i(82059),r=t.i(78384),a=t.i(56549),n=t.i(95261),i=t.i(98053),s=t.i(83334),l=t.i(8375);function o(t){var r=this.__data__=new e.default(t);this.size=r.size}o.prototype.clear=r.default,o.prototype.delete=a.default,o.prototype.get=n.default,o.prototype.has=i.default,o.prototype.set=function(t,r){var a=this.__data__;if(a instanceof e.default){var n=a.__data__;if(!s.default||n.length<199)return n.push([t,r]),this.size=++a.size,this;a=this.__data__=new l.default(n)}return a.set(t,r),this.size=a.size,this},t.s(["default",0,o],46987)},2362,t=>{"use strict";t.s(["default",0,function(t,e,r){for(var a=-1,n=Object(t),i=r(t),s=i.length;s--;){var l=i[++a];if(!1===e(n[l],l,n))break}return t}],2362)},94327,t=>{"use strict";var e=t.i(65550).default.Uint8Array;t.s(["default",0,e])},37501,t=>{"use strict";t.s(["default",0,function(t,e){return function(r){return t(e(r))}}])},39600,t=>{"use strict";var e=Object.prototype;t.s(["default",0,function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}])},12465,t=>{"use strict";var e=t.i(66207),r=t.i(54753);let a=function(t){return(0,r.default)(t)&&"[object Arguments]"==(0,e.default)(t)};var n=Object.prototype,i=n.hasOwnProperty,s=n.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(t){return(0,r.default)(t)&&i.call(t,"callee")&&!s.call(t,"callee")};t.s(["default",0,l],12465)},2529,t=>{"use strict";t.s(["default",0,function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=0x1fffffffffffff}])},81206,t=>{"use strict";var e=t.i(53066),r=t.i(2529);t.s(["default",0,function(t){return null!=t&&(0,r.default)(t.length)&&!(0,e.default)(t)}])},73767,t=>{"use strict";t.s(["default",0,function(){return!1}],73767)},47107,92203,22878,t=>{"use strict";var e=t.i(66207),r=t.i(2529),a=t.i(54753),n={};n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1;let i=function(t){return function(e){return t(e)}};t.s(["default",0,i],92203),t.i(37299);var s=function(){try{return!1}catch(t){}}();t.s(["default",0,s],22878);var l=s&&s.isTypedArray,o=l?i(l):function(t){return(0,a.default)(t)&&(0,r.default)(t.length)&&!!n[(0,e.default)(t)]};t.s(["default",0,o],47107)},6589,t=>{"use strict";t.s(["default",0,function(t,e){for(var r=-1,a=Array(t);++r<t;)a[r]=e(r);return a}])},61487,t=>{"use strict";var e=/^(?:0|[1-9]\d*)$/;t.s(["default",0,function(t,r){var a=typeof t;return!!(r=null==r?0x1fffffffffffff:r)&&("number"==a||"symbol"!=a&&e.test(t))&&t>-1&&t%1==0&&t<r}])},99735,t=>{"use strict";var e=t.i(6589),r=t.i(12465),a=t.i(44260),n=t.i(73767),i=t.i(61487),s=t.i(47107),l=Object.prototype.hasOwnProperty;t.s(["default",0,function(t,o){var d=(0,a.default)(t),c=!d&&(0,r.default)(t),h=!d&&!c&&(0,n.default)(t),p=!d&&!c&&!h&&(0,s.default)(t),u=d||c||h||p,f=u?(0,e.default)(t.length,String):[],y=f.length;for(var g in t)(o||l.call(t,g))&&!(u&&("length"==g||h&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||(0,i.default)(g,y)))&&f.push(g);return f}])},50189,t=>{"use strict";t.s(["default",0,function(t){return t}])},24885,t=>{"use strict";let e=Math.abs,r=Math.atan2,a=Math.cos,n=Math.max,i=Math.min,s=Math.sin,l=Math.sqrt,o=Math.PI,d=o/2;function c(t){return t>1?0:t<-1?o:Math.acos(t)}function h(t){return t>=1?d:t<=-1?-d:Math.asin(t)}t.s(["abs",0,e,"acos",()=>c,"asin",()=>h,"atan2",0,r,"cos",0,a,"epsilon",0,1e-12,"halfPi",0,d,"max",0,n,"min",0,i,"pi",0,o,"sin",0,s,"sqrt",0,l,"tau",0,2*o])},57553,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BLANK_URL=r.relativeFirstCharacters=r.whitespaceEscapeCharsRegex=r.urlSchemeRegex=r.ctrlCharactersRegex=r.htmlCtrlEntityRegex=r.htmlEntitiesRegex=r.invalidProtocolRegex=void 0,r.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,r.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,r.htmlCtrlEntityRegex=/&(newline|tab);/gi,r.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,r.urlSchemeRegex=/^.+(:|&colon;)/gim,r.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,r.relativeFirstCharacters=[".","/"],r.BLANK_URL="about:blank"},81713,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sanitizeUrl=void 0;var a=t.r(57553);function n(t){try{return decodeURIComponent(t)}catch(e){return t}}r.sanitizeUrl=function(t){if(!t)return a.BLANK_URL;var e,r=n(t.trim());do e=(r=n(r=r.replace(a.ctrlCharactersRegex,"").replace(a.htmlEntitiesRegex,function(t,e){return String.fromCharCode(e)}).replace(a.htmlCtrlEntityRegex,"").replace(a.ctrlCharactersRegex,"").replace(a.whitespaceEscapeCharsRegex,"").trim())).match(a.ctrlCharactersRegex)||r.match(a.htmlEntitiesRegex)||r.match(a.htmlCtrlEntityRegex)||r.match(a.whitespaceEscapeCharsRegex);while(e&&e.length>0)var i=r;if(!i)return a.BLANK_URL;if(a.relativeFirstCharacters.indexOf(i[0])>-1)return i;var s=i.trimStart(),l=s.match(a.urlSchemeRegex);if(!l)return i;var o=l[0].toLowerCase().trim();if(a.invalidProtocolRegex.test(o))return a.BLANK_URL;var d=s.replace(/\\/g,"/");if("mailto:"===o||o.includes("://"))return d;if("http:"===o||"https:"===o){if(!URL.canParse(d))return a.BLANK_URL;var c=new URL(d);return c.protocol=c.protocol.toLowerCase(),c.hostname=c.hostname.toLowerCase(),c.toString()}return d}},59683,99518,t=>{"use strict";t.s(["default",0,function(t){return function(){return t}}],59683);let e=Math.PI,r=2*e,a=r-1e-6;function n(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}class i{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?n:function(t){let e=Math.floor(t);if(!(e>=0))throw Error(`invalid digits: ${t}`);if(e>15)return n;let r=10**e;return function(t){this._+=t[0];for(let e=1,a=t.length;e<a;++e)this._+=Math.round(arguments[e]*r)/r+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,r,a){this._append`Q${+t},${+e},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,e,r,a,n,i){this._append`C${+t},${+e},${+r},${+a},${this._x1=+n},${this._y1=+i}`}arcTo(t,r,a,n,i){if(t*=1,r*=1,a*=1,n*=1,(i*=1)<0)throw Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,o=a-t,d=n-r,c=s-t,h=l-r,p=c*c+h*h;if(null===this._x1)this._append`M${this._x1=t},${this._y1=r}`;else if(p>1e-6)if(Math.abs(h*o-d*c)>1e-6&&i){let u=a-s,f=n-l,y=o*o+d*d,g=Math.sqrt(y),_=Math.sqrt(p),m=i*Math.tan((e-Math.acos((y+p-(u*u+f*f))/(2*g*_)))/2),b=m/_,x=m/g;Math.abs(b-1)>1e-6&&this._append`L${t+b*c},${r+b*h}`,this._append`A${i},${i},0,0,${+(h*u>c*f)},${this._x1=t+x*o},${this._y1=r+x*d}`}else this._append`L${this._x1=t},${this._y1=r}`}arc(t,n,i,s,l,o){if(t*=1,n*=1,i*=1,o=!!o,i<0)throw Error(`negative radius: ${i}`);let d=i*Math.cos(s),c=i*Math.sin(s),h=t+d,p=n+c,u=1^o,f=o?s-l:l-s;null===this._x1?this._append`M${h},${p}`:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-p)>1e-6)&&this._append`L${h},${p}`,i&&(f<0&&(f=f%r+r),f>a?this._append`A${i},${i},0,1,${u},${t-d},${n-c}A${i},${i},0,1,${u},${this._x1=h},${this._y1=p}`:f>1e-6&&this._append`A${i},${i},0,${+(f>=e)},${u},${this._x1=t+i*Math.cos(l)},${this._y1=n+i*Math.sin(l)}`)}rect(t,e,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${r*=1}v${+a}h${-r}Z`}toString(){return this._}}function s(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(null==r)e=null;else{let t=Math.floor(r);if(!(t>=0))throw RangeError(`invalid digits: ${r}`);e=t}return t},()=>new i(e)}i.prototype,t.s(["withPath",()=>s],99518)},58424,t=>{"use strict";var e=t.i(51934),r=t.i(59683),a=t.i(66635),n=t.i(99518);function i(t){return t[0]}function s(t){return t[1]}t.s(["line",0,function(t,l){var o=(0,r.default)(!0),d=null,c=a.default,h=null,p=(0,n.withPath)(u);function u(r){var a,n,i,s=(r=(0,e.default)(r)).length,u=!1;for(null==d&&(h=c(i=p())),a=0;a<=s;++a)!(a<s&&o(n=r[a],a,r))===u&&((u=!u)?h.lineStart():h.lineEnd()),u&&h.point(+t(n,a,r),+l(n,a,r));if(i)return h=null,i+""||null}return t="function"==typeof t?t:void 0===t?i:(0,r.default)(t),l="function"==typeof l?l:void 0===l?s:(0,r.default)(l),u.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.default)(+e),u):t},u.y=function(t){return arguments.length?(l="function"==typeof t?t:(0,r.default)(+t),u):l},u.defined=function(t){return arguments.length?(o="function"==typeof t?t:(0,r.default)(!!t),u):o},u.curve=function(t){return arguments.length?(c=t,null!=d&&(h=c(d)),u):c},u.context=function(t){return arguments.length?(null==t?d=h=null:h=c(d=t),u):d},u}],58424)},99154,t=>{"use strict";var e=t.i(58295),r={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},a={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function n(t,e){if(void 0===t||void 0===e)return{angle:0,deltaX:0,deltaY:0};t=i(t),e=i(e);let[r,a]=[t.x,t.y],[n,s]=[e.x,e.y],l=n-r,o=s-a;return{angle:Math.atan(o/l),deltaX:l,deltaY:o}}(0,e.__name)(n,"calculateDeltaAndAngle");var i=(0,e.__name)(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),s=(0,e.__name)(t=>({x:(0,e.__name)(function(e,a,s){let l=0,o=i(s[0]).x<i(s[s.length-1]).x?"left":"right";if(0===a&&Object.hasOwn(r,t.arrowTypeStart)){let{angle:e,deltaX:a}=n(s[0],s[1]);l=r[t.arrowTypeStart]*Math.cos(e)*(a>=0?1:-1)}else if(a===s.length-1&&Object.hasOwn(r,t.arrowTypeEnd)){let{angle:e,deltaX:a}=n(s[s.length-1],s[s.length-2]);l=r[t.arrowTypeEnd]*Math.cos(e)*(a>=0?1:-1)}let d=Math.abs(i(e).x-i(s[s.length-1]).x),c=Math.abs(i(e).y-i(s[s.length-1]).y),h=Math.abs(i(e).x-i(s[0]).x),p=Math.abs(i(e).y-i(s[0]).y),u=r[t.arrowTypeStart],f=r[t.arrowTypeEnd];if(d<f&&d>0&&c<f){let t=f+1-d;t*="right"===o?-1:1,l-=t}if(h<u&&h>0&&p<u){let t=u+1-h;t*="right"===o?-1:1,l+=t}return i(e).x+l},"x"),y:(0,e.__name)(function(e,a,s){let l=0,o=i(s[0]).y<i(s[s.length-1]).y?"down":"up";if(0===a&&Object.hasOwn(r,t.arrowTypeStart)){let{angle:e,deltaY:a}=n(s[0],s[1]);l=r[t.arrowTypeStart]*Math.abs(Math.sin(e))*(a>=0?1:-1)}else if(a===s.length-1&&Object.hasOwn(r,t.arrowTypeEnd)){let{angle:e,deltaY:a}=n(s[s.length-1],s[s.length-2]);l=r[t.arrowTypeEnd]*Math.abs(Math.sin(e))*(a>=0?1:-1)}let d=Math.abs(i(e).y-i(s[s.length-1]).y),c=Math.abs(i(e).x-i(s[s.length-1]).x),h=Math.abs(i(e).y-i(s[0]).y),p=Math.abs(i(e).x-i(s[0]).x),u=r[t.arrowTypeStart],f=r[t.arrowTypeEnd];if(d<f&&d>0&&c<f){let t=f+1-d;t*="up"===o?-1:1,l-=t}if(h<u&&h>0&&p<u){let t=u+1-h;t*="up"===o?-1:1,l+=t}return i(e).y+l},"y")}),"getLineFunctionsWithOffset");t.s(["getLineFunctionsWithOffset",()=>s,"markerOffsets",()=>r,"markerOffsets2",()=>a])}]);

//# sourceMappingURL=014bbbf3bc79f670.js.map